(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{24:function(e,a,t){e.exports=t.p+"static/media/doctor.4acad051.svg"},31:function(e,a,t){e.exports=t(53)},36:function(e,a,t){},37:function(e,a,t){},53:function(e,a,t){"use strict";t.r(a);var n=t(0),i=t.n(n),s=t(12),c=t.n(s),o=(t(36),t(3)),r=t(4),l=t(7),u=t(6),d=t(8),m=(t(37),t(55)),p=t(56),f=t(9),h=t(14),b=t(24),v=t.n(b),E=function(e){function a(){return Object(o.a)(this,a),Object(l.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(r.a)(a,[{key:"render",value:function(){var e=this.props.profissional;return i.a.createElement("div",{className:"card",style:{marginBottom:"5px"}},i.a.createElement("div",{className:"card-body"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-5 text-center"},i.a.createElement("h6",{className:"card-title"},this.props.especialidadeSelecionada.label),i.a.createElement("div",{style:{minHeight:"130px"}},i.a.createElement("img",{src:e.foto?e.foto:v.a,className:"rounded-circle m-t-xs img-fluid",alt:"Cinque Terre"}))),i.a.createElement("div",{className:"col-7 text-center"},i.a.createElement("h5",{className:"card-subtitle mb-2 text-muted"},e.nome),i.a.createElement("div",{className:"card-text",style:{minHeight:"72px"}},i.a.createElement("address",null,e.conselho?"Conselho: ".concat(e.conselho):"",i.a.createElement("br",null),e.documento_conselho?"Documento: ".concat(e.documento_conselho):"",i.a.createElement("br",null),e.uf_conselho?"Estado do Conselho: ".concat(e.uf_conselho.toUpperCase()):"")),this.props.agendar&&i.a.createElement("div",null,i.a.createElement("a",{href:"/cadastro/".concat(this.props.especialidadeSelecionada.value,"/").concat(this.props.profissional.profissional_id),className:"btn btn-success btn-sm"},"Agendar"))))))}}]),a}(n.Component),g=function(){function e(){Object(o.a)(this,e)}return Object(r.a)(e,null,[{key:"get",value:function(e){return fetch("".concat(this.urlfeegow).concat(e)).then(function(e){if(!e.ok)throw Error(e.statusText);return e.json()}).then(function(e){if(!0!==e.success)throw Error("Erro ao consultar a api");return e.content})}},{key:"postObject",value:function(e,a){return fetch("".concat(this.urlfeegow).concat(e),{body:JSON.stringify(a),method:"POST"}).then(function(e){if(!e.ok)throw Error(e.statusText);return e.json()}).then(function(e){if(!0!==e.success)throw Error("Erro ao consultar a api");return e.content})}}]),e}();g.urlfeegow="http://localhost:8001";var O=g,N=function(e){function a(){return Object(o.a)(this,a),Object(l.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(r.a)(a,null,[{key:"getEspecialidades",value:function(){return this.get("/api/especialidades")}},{key:"getEspecialidade",value:function(e){return this.getEspecialidades().then(function(a){return a.find(function(a){return a.especialidade_id===e})})}}]),a}(O),j=function(e){function a(){return Object(o.a)(this,a),Object(l.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(r.a)(a,null,[{key:"getProfissionais",value:function(e){return this.get("/api/profissionais?especialidade_id="+e)}},{key:"getProfissional",value:function(e,a){return this.getProfissionais(e).then(function(e){return e.find(function(e){return e.profissional_id===a})})}}]),a}(O),S=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(l.a)(this,Object(u.a)(a).call(this,e))).changeEspecialidades=t.changeEspecialidades.bind(Object(f.a)(Object(f.a)(t))),t.state={especialidades:[],especialidadeSelecionada:null,profissionais:[],loading:!1},t}return Object(d.a)(a,e),Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this;N.getEspecialidades().then(function(a){var t=a.map(function(e){return{value:e.especialidade_id,label:e.nome}});e.setState({especialidades:t})}).catch(function(e){R.ToastsStore.warning("N\xe3o foi poss\xedvel listar as especialidades. :(")})}},{key:"changeEspecialidades",value:function(e){this.setState({profissionais:[],especialidadeSelecionada:e})}},{key:"listarProfissionais",value:function(){var e=this;this.state.especialidadeSelecionada?(this.setState({profissionais:[],loading:!0}),j.getProfissionais(this.state.especialidadeSelecionada.value).then(function(a){e.setState({profissionais:a,loading:!1})}).catch(function(e){R.ToastsStore.warning("N\xe3o foi poss\xedvel listar os profissionais. :(")})):R.ToastsStore.warning("Favor selecionar a especialidade")}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col"},i.a.createElement("div",{className:"input-group mb-3"},i.a.createElement("div",{className:"input-group-prepend"},i.a.createElement("label",{className:"input-group-text",htmlFor:"inputGroupSelect01"},"Consulta de ")),i.a.createElement("div",{className:"custom-select"},i.a.createElement(h.a,{options:this.state.especialidades,onChange:this.changeEspecialidades,placeholder:"Selecione as Especialidades"})),i.a.createElement("div",{className:"input-group-append"},i.a.createElement("button",{className:"btn btn-success",onClick:function(){return e.listarProfissionais()},type:"button"},"Agendar"))))),i.a.createElement("div",{hidden:!this.state.loading,className:"text-center"},i.a.createElement("div",{className:"spinner-border text-primary",role:"status"},i.a.createElement("span",{className:"sr-only"},"Loading..."))),i.a.createElement("div",{className:"row",hidden:this.state.loading},this.state.profissionais.map(function(a,t){return i.a.createElement("div",{className:"col-md-4",key:t},i.a.createElement(E,{agendar:!0,profissional:a,especialidadeSelecionada:e.state.especialidadeSelecionada}))}))))}}]),a}(n.Component),y=t(13),w=t.n(y),k=t(16),C=function(e){function a(){return Object(o.a)(this,a),Object(l.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(r.a)(a,null,[{key:"getOrigens",value:function(){return this.get("/api/feegowgeneric/patient/list-sources")}}]),a}(O),x=t(28),T=t.n(x),_=function(e){function a(){return Object(o.a)(this,a),Object(l.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(r.a)(a,null,[{key:"agendar",value:function(e){return this.postObject("/api/agendamento",e)}}]),a}(O),P=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(l.a)(this,Object(u.a)(a).call(this,e))).forms={nome:i.a.createRef(),cpf:i.a.createRef(),comoconheceu:i.a.createRef(),datanascimento:i.a.createRef()},t.changeOrigens=t.changeOrigens.bind(Object(f.a)(Object(f.a)(t))),t.handleSubmit=t.handleSubmit.bind(Object(f.a)(Object(f.a)(t))),t.state={especialidadeSelecionada:null,profissional:null},t}return Object(d.a)(a,e),Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=Object(k.a)(w.a.mark(function e(){var a,t=this;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=this.props.match.params,N.getEspecialidade(Number(a.especialidade)).then(function(e){t.setState({especialidadeSelecionada:{label:e.nome,value:e.especialidade_id}})}).catch(function(e){R.ToastsStore.warning("N\xe3o foi poss\xedvel selecionar a especialidade. :(")}),j.getProfissional(Number(a.especialidade),Number(a.profissional)).then(function(){var e=Object(k.a)(w.a.mark(function e(a){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.setState({profissional:a});case 1:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}()).catch(function(e){R.ToastsStore.warning("N\xe3o foi poss\xedvel selecionar o profissional. :(")}),C.getOrigens().then(function(){var e=Object(k.a)(w.a.mark(function e(a){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.setState({origens:a.map(function(e){return{label:e.nome_origem,value:e.origem_id}})});case 1:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}());case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"changeOrigens",value:function(e){this.setState({origemSelecionada:e})}},{key:"handleSubmit",value:function(e){e.preventDefault();var a={specialty_id:Number(this.props.match.params.especialidade),professional_id:Number(this.props.match.params.profissional),name:this.forms.nome.current.value,cpf:this.forms.cpf.current.value,source_id:this.state.origemSelecionada&&this.state.origemSelecionada.value};if(a.source_id){if(T.a.validate(this.forms.cpf.current.value).valid)return _.agendar(a).then(function(){R.ToastsStore.success("Agendamento realizado com sucesso.")}),!1;R.ToastsStore.warning("Informa um cpf v\xe1lido")}else R.ToastsStore.warning("Favor selecionar a origem")}},{key:"render",value:function(e){return i.a.createElement("div",null,i.a.createElement("h5",null,"Preencha seu dados"),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-4"},i.a.createElement("label",null,"Profissional Selecionado"),this.state.profissional&&this.state.especialidadeSelecionada&&i.a.createElement(E,{profissional:this.state.profissional,especialidadeSelecionada:this.state.especialidadeSelecionada})),i.a.createElement("div",{className:"col-md-8"},i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-8"},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",null,"Nome Completo"),i.a.createElement("input",{ref:this.forms.nome,required:!0,className:"form-control",placeholder:"Nome Completo"}))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",null,"Data de Nascimento"),i.a.createElement("input",{type:"date",ref:this.forms.datanascimento,required:!0,className:"form-control",placeholder:"Data de Nascimento"})))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-8"},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",null,"Como Conheceu?"),i.a.createElement(h.a,{ref:this.forms.comoconheceu,options:this.state.origens,onChange:this.changeOrigens,placeholder:"Como Conheceu?"}))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement("div",{className:"form-group"},i.a.createElement("label",null,"CPF"),i.a.createElement("input",{required:!0,ref:this.forms.cpf,className:"form-control",placeholder:"CPF"})))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-12 text-right"},i.a.createElement("button",{type:"submit",className:"btn btn-success btn-sm"},"Agendar")))))))}}]),a}(n.Component),D=t(17),F=function(e){function a(){return Object(o.a)(this,a),Object(l.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(r.a)(a,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(D.ToastsContainer,{position:D.ToastsContainerPosition.BOTTOM_CENTER,store:a.ToastsStore}),i.a.createElement(m.a,null,i.a.createElement("div",{className:"container"},i.a.createElement(p.a,{exact:!0,path:"/",component:S}),i.a.createElement(p.a,{exact:!0,path:"/cadastro/:especialidade/:profissional",component:P}))))}}]),a}(n.Component);F.ToastsStore=D.ToastsStore;var R=F;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(52);c.a.render(i.a.createElement(R,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[31,1,2]]]);
//# sourceMappingURL=main.08c640f6.chunk.js.map